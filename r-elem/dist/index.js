!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["rxjs","rxjs/operators"],e):"object"==typeof exports?exports["r-elem"]=e(require("rxjs"),require("rxjs/operators")):t["r-elem"]=e(t.rxjs,t.rxjs.operators)}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var r=n(0),o=n(1);function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t){var e=t instanceof HTMLElement?t:document.createElement(t),n={},u=[],f=[];return new Proxy({el:e,set:function(t){return t(e),this},state:function(t,e){return Object(r.isObservable)(t)?(e=e||function(){},u.push({state$:t,bind:e})):this.set((function(n){return e(n,t)})),this},event:function(t){for(var e=this,n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];var c=o.map((function(t){return"function"==typeof t?t(e):t}));return this[t+"$"]=r.merge.apply(void 0,i(c)),this},slot:function(t,r){var o=this;return n[t]=r.el,e.appendChild(r.el),this[t+"Child"]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.slotChild.apply(o,[t].concat(n))},this},child:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.slotChild.apply(this,[void 0].concat(e))},slotChild:function(t){for(var r=n[t]||e,o=arguments.length,i=new Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];return i.flat().filter((function(t){return null!=t&&""!==t})).forEach((function(t){c(t)?t.parent(r):r.appendChild(document.createTextNode(t.toString()))})),this},childMap:function(t,e,n){return this.slotChildMap(void 0,t,e,n)},slotChildMap:function(t,r,o,i){var u=n[t]||e,c=[];return r.subscribe((function(t){for(var e=0;e<t.length;e++)void 0===c[e]&&(c[e]=i(),o(c[e].asObservable(),e).state(c[e]).parent(u)),c[e].next(t[e]);for(var n=t.length;n<c.length;n++)c[n].complete();c.length=t.length})),this},parent:function(t){if(0===u.length)return t.appendChild(e),this;var n=u.map((function(t){return t.state$}));return Object(r.race)(n).pipe(Object(o.take)(1)).subscribe((function(){return t.appendChild(e)})),Object(r.forkJoin)(n).subscribe(null,null,(function(){t.removeChild(e),f.forEach((function(t){return t.unsubscribe()}))})),u.forEach((function(t){return t.state$.subscribe((function(n){return t.bind(e,n)}))})),this}},{get:function(t,e){if(e.endsWith("$")&&void 0===t[e]){var n=e.substring(0,e.length-1),i=Object(r.fromEvent)(t.el,n);i.preventDefault=function(){return i.pipe(Object(o.tap)((function(t){return t.preventDefault()})))};var u=i.subscribe;i.subscribe=function(){var t=u.apply(i,arguments);return f.push(t),t},t[e]=i}return t[e]}})}function c(t){return null!=t&&"function"==typeof t.parent&&"function"==typeof t.state}}])}));